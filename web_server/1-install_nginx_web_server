#!/usr/bin/env bash
# This script installs and configures Nginx to serve a page with only "Holberton School" on a clean Ubuntu server.

# Update package lists and install nginx
sudo apt-get update -y
sudo apt-get install nginx -y

# Ensure Nginx is started and enabled to start on boot
sudo service nginx start
sudo systemctl enable nginx

# Adjust firewall to allow 'Nginx HTTP' traffic
sudo ufw allow 'Nginx HTTP'

# Ensure Nginx is running and listening on port 80
sudo systemctl status nginx

# Set the correct content in the default index.html file served by Nginx
echo "Holberton School" | sudo tee /var/www/html/index.html

# Restart Nginx to apply the changes (not using systemctl, as per instructions)
sudo service nginx restart

# Output success message
echo "Nginx has been installed and configured. The page is serving 'Holberton School'."
